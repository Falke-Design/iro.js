{"version":3,"file":"iro.min.js.map","sources":["../node_modules/preact/dist/preact.module.js","../src/ui/component.ts","../src/ui/handle.tsx","../src/ui/wheel.tsx","../src/ui/slider.tsx","../src/colorPicker.tsx","../src/util/createWidget.ts","../src/util/usePlugins.ts","../src/index.ts"],"sourcesContent":["var n,l,u,t,i,r,o,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var t,i,r,o,f=arguments;if(l=s({},l),arguments.length>3)for(u=[u],t=3;t<arguments.length;t++)u.push(f[t]);if(null!=u&&(l.children=u),null!=n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===l[i]&&(l[i]=n.defaultProps[i]);return o=l.key,null!=(r=l.ref)&&delete l.ref,null!=o&&delete l.key,v(n,l,o,r)}function v(l,u,t,i){var r={type:l,props:u,key:t,ref:i,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(r),r}function p(){return{}}function d(n){return n.children}function y(n){if(null==n||\"boolean\"==typeof n)return null;if(\"string\"==typeof n||\"number\"==typeof n)return v(null,n,null,null);if(null!=n.__e||null!=n.__c){var l=v(n.type,n.props,n.key,null);return l.__e=n.__e,l}return n}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__p?w(n.__p,n.__p.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?w(n):null}function g(n){var l,u;if(null!=(n=n.__p)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function k(l){(!l.__d&&(l.__d=!0)&&1===u.push(l)||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_))}function _(){var n,l,t,i,r,o,f,e;for(u.sort(function(n,l){return l.__v.__b-n.__v.__b});n=u.pop();)n.__d&&(t=void 0,i=void 0,o=(r=(l=n).__v).__e,f=l.__P,e=l.u,l.u=!1,f&&(t=[],i=$(f,r,s({},r),l.__n,void 0!==f.ownerSVGElement,null,t,e,null==o?w(r):o),j(t,r),i!=o&&g(r)))}function b(n,l,u,t,i,r,o,c,s){var h,v,p,d,y,m,g,k=u&&u.__k||e,_=k.length;if(c==f&&(c=null!=r?r[0]:_?w(u,0):null),h=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__p=l,u.__b=l.__b+1,null===(p=k[h])||p&&u.key==p.key&&u.type===p.type)k[h]=void 0;else for(v=0;v<_;v++){if((p=k[v])&&u.key==p.key&&u.type===p.type){k[v]=void 0;break}p=null}if(d=$(n,u,p=p||f,t,i,r,o,null,c,s),(v=u.ref)&&p.ref!=v&&(g||(g=[])).push(v,u.__c||d,u),null!=d){if(null==m&&(m=d),null!=u.l)d=u.l,u.l=null;else if(r==p||d!=c||null==d.parentNode){n:if(null==c||c.parentNode!==n)n.appendChild(d);else{for(y=c,v=0;(y=y.nextSibling)&&v<_;v+=2)if(y==d)break n;n.insertBefore(d,c)}\"option\"==l.type&&(n.value=\"\")}c=d.nextSibling,\"function\"==typeof l.type&&(l.l=d)}}return h++,u}),l.__e=m,null!=r&&\"function\"!=typeof l.type)for(h=r.length;h--;)null!=r[h]&&a(r[h]);for(h=_;h--;)null!=k[h]&&D(k[h],k[h]);if(g)for(h=0;h<g.length;h++)A(g[h],g[++h],g[++h])}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var t=0;t<n.length;t++)x(n[t],l,u);else u.push(l?l(y(n)):n);return u}function C(n,l,u,t,i){var r;for(r in u)r in l||N(n,r,null,u[r],t);for(r in l)i&&\"function\"!=typeof l[r]||\"value\"===r||\"checked\"===r||u[r]===l[r]||N(n,r,l[r],u[r],t)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===c.test(l)?u+\"px\":null==u?\"\":u}function N(n,l,u,t,i){var r,o,f,e,c;if(\"key\"===(l=i?\"className\"===l?\"class\":l:\"class\"===l?\"className\":l)||\"children\"===l);else if(\"style\"===l)if(r=n.style,\"string\"==typeof u)r.cssText=u;else{if(\"string\"==typeof t&&(r.cssText=\"\",t=null),t)for(o in t)u&&o in u||P(r,o,\"\");if(u)for(f in u)t&&u[f]===t[f]||P(r,f,u[f])}else\"o\"===l[0]&&\"n\"===l[1]?(e=l!==(l=l.replace(/Capture$/,\"\")),c=l.toLowerCase(),l=(c in n?c:l).slice(2),u?(t||n.addEventListener(l,T,e),(n.t||(n.t={}))[l]=u):n.removeEventListener(l,T,e)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&!i&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u?n.removeAttribute(l):n.setAttribute(l,u))}function T(l){return this.t[l.type](n.event?n.event(l):l)}function $(l,u,t,i,r,o,f,e,c,a){var h,v,p,y,w,g,k,_,C,P,N=u.type;if(void 0!==u.constructor)return null;(h=n.__b)&&h(u);try{n:if(\"function\"==typeof N){if(_=u.props,C=(h=N.contextType)&&i[h.__c],P=h?C?C.props.value:h.__p:i,t.__c?k=(v=u.__c=t.__c).__p=v.__E:(\"prototype\"in N&&N.prototype.render?u.__c=v=new N(_,P):(u.__c=v=new m(_,P),v.constructor=N,v.render=H),C&&C.sub(v),v.props=_,v.state||(v.state={}),v.context=P,v.__n=i,p=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=N.getDerivedStateFromProps&&s(v.__s==v.state?v.__s=s({},v.__s):v.__s,N.getDerivedStateFromProps(_,v.__s)),p)null==N.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&f.push(v);else{if(null==N.getDerivedStateFromProps&&null==e&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(_,P),!e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(_,v.__s,P)){for(v.props=_,v.state=v.__s,v.__d=!1,v.__v=u,u.__e=null!=c?c!==t.__e?c:t.__e:null,u.__k=t.__k,h=0;h<u.__k.length;h++)u.__k[h]&&(u.__k[h].__p=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(_,v.__s,P)}for(y=v.props,w=v.state,v.context=P,v.props=_,v.state=v.__s,(h=n.__r)&&h(u),v.__d=!1,v.__v=u,v.__P=l,h=v.render(v.props,v.state,v.context),u.__k=x(null!=h&&h.type==d&&null==h.key?h.props.children:h),null!=v.getChildContext&&(i=s(s({},i),v.getChildContext())),p||null==v.getSnapshotBeforeUpdate||(g=v.getSnapshotBeforeUpdate(y,w)),b(l,u,t,i,r,o,f,c,a),v.base=u.__e;h=v.__h.pop();)v.__s&&(v.state=v.__s),h.call(v);p||null==y||null==v.componentDidUpdate||v.componentDidUpdate(y,w,g),k&&(v.__E=v.__p=null)}else u.__e=z(t.__e,u,t,i,r,o,f,a);(h=n.diffed)&&h(u)}catch(l){n.__e(l,u,t)}return u.__e}function j(l,u){for(var t;t=l.pop();)try{t.componentDidMount()}catch(l){n.__e(l,t.__v)}n.__c&&n.__c(u)}function z(n,l,u,t,i,r,o,c){var s,a,h,v,p=u.props,d=l.props;if(i=\"svg\"===l.type||i,null==n&&null!=r)for(s=0;s<r.length;s++)if(null!=(a=r[s])&&(null===l.type?3===a.nodeType:a.localName===l.type)){n=a,r[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=i?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type),r=null}return null===l.type?p!==d&&(null!=r&&(r[r.indexOf(n)]=null),n.data=d):l!==u&&(null!=r&&(r=e.slice.call(n.childNodes)),h=(p=u.props||f).dangerouslySetInnerHTML,v=d.dangerouslySetInnerHTML,c||(v||h)&&(v&&h&&v.__html==h.__html||(n.innerHTML=v&&v.__html||\"\")),C(n,d,p,i,c),l.__k=l.props.children,v||b(n,l,u,t,\"foreignObject\"!==l.type&&i,r,o,f,c),c||(\"value\"in d&&void 0!==d.value&&d.value!==n.value&&(n.value=null==d.value?\"\":d.value),\"checked\"in d&&void 0!==d.checked&&d.checked!==n.checked&&(n.checked=d.checked))),n}function A(l,u,t){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,t)}}function D(l,u,t){var i,r,o;if(n.unmount&&n.unmount(l),(i=l.ref)&&A(i,null,u),t||\"function\"==typeof l.type||(t=null!=(r=l.__e)),l.__e=l.l=null,null!=(i=l.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(l){n.__e(l,u)}i.base=i.__P=null}if(i=l.__k)for(o=0;o<i.length;o++)i[o]&&D(i[o],u,t);null!=r&&a(r)}function H(n,l,u){return this.constructor(n,u)}function I(l,u,t){var i,o,c;n.__p&&n.__p(l,u),o=(i=t===r)?null:t&&t.__k||u.__k,l=h(d,null,[l]),c=[],$(u,i?u.__k=l:(t||u).__k=l,o||f,f,void 0!==u.ownerSVGElement,t&&!i?[t]:o?null:e.slice.call(u.childNodes),c,!1,t||f,i),j(c,l)}function L(n,l){I(n,l,r)}function M(n,l){return l=s(s({},n.props),l),arguments.length>2&&(l.children=e.slice.call(arguments,2)),v(n.type,l,l.key||n.key,l.ref||n.ref)}function O(n){var l={},u={__c:\"__cC\"+o++,__p:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var t,i=this;return this.getChildContext||(t=[],this.getChildContext=function(){return l[u.__c]=i,l},this.shouldComponentUpdate=function(i){n.value!==i.value&&(l[u.__c].props.value=i.value,t.some(function(n){n.__P&&(n.context=i.value,k(n))}))},this.sub=function(n){t.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){t.splice(t.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u}n={},l=function(n){return null!=n&&void 0===n.constructor},m.prototype.setState=function(n,l){var u=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));(\"function\"!=typeof n||(n=n(u,this.props)))&&s(u,n),null!=n&&this.__v&&(this.u=!1,l&&this.__h.push(l),k(this))},m.prototype.forceUpdate=function(n){this.__v&&(n&&this.__h.push(n),this.u=!0,k(this))},m.prototype.render=d,u=[],t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(n,l,u){for(var t;l=l.__p;)if((t=l.__c)&&!t.__p)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError)t.setState(t.constructor.getDerivedStateFromError(n));else{if(null==t.componentDidCatch)continue;t.componentDidCatch(n)}return k(t.__E=t)}catch(l){n=l}throw n},r=f,o=0;export{I as render,L as hydrate,h as createElement,h,d as Fragment,p as createRef,l as isValidElement,m as Component,M as cloneElement,O as createContext,x as toChildArray,D as _unmount,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import { Component } from 'preact';\nimport { IroColor, IroColorPickerOptions } from 'iro-core';\n\n// Listen to one or more events on an element\nexport function listen(el: EventTarget, eventList: string[], callback: any, params?: AddEventListenerOptions) {\n  for (var i = 0; i < eventList.length; i++) {\n    el.addEventListener(eventList[i], callback, params);\n  }\n};\n\n// Remove an event listener on an element\nexport function unlisten(el: EventTarget, eventList: string[], callback: any, params?: AddEventListenerOptions) {\n  for (var i = 0; i < eventList.length; i++) {\n    el.removeEventListener(eventList[i], callback, params);\n  }\n};\n\nenum EventType {\n  MouseDown = 'mousedown',\n  MouseMove = 'mousemove',\n  MouseUp = 'mouseup',\n  TouchStart = 'touchstart',\n  TouchMove = 'touchstart',\n  TouchEnd = 'touchend'\n}\n\nexport enum EventResult {\n  start,\n  move,\n  end\n}\n\nexport interface IroComponentProps extends IroColorPickerOptions {\n  color: IroColor;\n  onInput: Function;\n}\n\n// Base component class for iro UI components\n// This extends the Preact component class to allow them to react to mouse/touch input events by themselves\nexport abstract class IroComponent<Props extends IroComponentProps, State> extends Component<Props, State> {\n  public uid: string;\n  public base: HTMLElement;\n\n  constructor(props: Props) {\n    super(props);\n    // Generate unique ID for the component\n    // This can be used to generate unique IDs for gradients, etc\n    this.uid = (Math.random() + 1).toString(36).substring(5);\n  }\n\n  componentDidMount() {\n    listen(this.base, [EventType.MouseDown, EventType.TouchStart], this, { passive: false });\n  }\n\n  componentWillUnmount() {\n    unlisten(this.base, [EventType.MouseDown, EventType.TouchStart], this);\n  }\n\n  abstract handleInput(x: number, y: number, bounds: ClientRect | DOMRect, type: EventResult);\n\n  // More info on handleEvent:\n  // https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\n  // TL;DR this lets us have a single point of entry for multiple events, and we can avoid callback/binding hell\n  handleEvent(e: MouseEvent & TouchEvent) {\n    e.preventDefault();\n    // Detect if the event is a touch event by checking if it has the `touches` property\n    // If it is a touch event, use the first touch input\n    const point = e.touches ? e.changedTouches[0] : e;\n    const x = point.clientX;\n    const y = point.clientY;\n\n    // Get the screen position of the component\n    const bounds = this.base.getBoundingClientRect();\n\n    switch (e.type) {\n      case EventType.MouseDown:\n      case EventType.TouchStart:\n        listen(document, [EventType.MouseMove, EventType.TouchMove, EventType.MouseUp, EventType.TouchEnd], this, { passive: false });\n        this.handleInput(x, y, bounds, EventResult.start);\n        break;\n      case EventType.MouseMove:\n      case EventType.TouchMove:\n        this.handleInput(x, y, bounds, EventResult.move);\n        break;\n      case EventType.MouseUp:\n      case EventType.TouchEnd:\n        this.handleInput(x, y, bounds, EventResult.end);\n        unlisten(document, [EventType.MouseMove, EventType.TouchMove, EventType.MouseUp, EventType.TouchEnd], this, { passive: false });\n        break;\n    }\n  }\n\n\n}\n","import { h } from 'preact';\nimport { resolveSvgUrl } from 'iro-core';\n\ninterface IroHandleProps {\n  x: number;\n  y: number;\n  r: number;\n  url: string;\n  origin: { x: number, y: number };\n}\n\nexport function IroHandle(props: IroHandleProps) {\n  const radius = props.r;\n  const url = props.url;\n\n  return (\n    <svg className=\"iro__handle\" x={ props.x } y={ props.y } style={{ overflow: 'visible' }}>\n      {url && (\n        <use xlinkHref={resolveSvgUrl(url)} { ...props.origin }/>\n      )}\n      {!url && (\n        <circle \n          className=\"iro__handle__inner\"\n          r={ radius }\n          fill=\"none\"\n          stroke-width={ 2 }\n          stroke=\"#000\"\n        />\n      )}\n      {!url && (\n        <circle \n          className=\"iro__handle__outer\" \n          r={ radius - 2 }\n          fill=\"none\"\n          stroke-width={ 2 }\n          stroke=\"#fff\"\n        />\n      )}\n    </svg>\n  );\n}\n\nIroHandle.defaultProps = {\n  x: 0,\n  y: 0,\n  r: 8,\n  url: null,\n  origin: {x: 0, y: 0}\n};","import { h } from 'preact';\nimport { \n  resolveSvgUrl,\n  getSvgArcPath,\n  translateWheelAngle, \n  getWheelCenter,\n  getWheelHandlePosition,\n  getWheelValueFromInput\n} from 'iro-core';\n\nimport { IroComponent, IroComponentProps, EventResult } from './component';\nimport { IroHandle } from './handle';\n\nconst HUE_STEPS = Array.apply(null, {length: 360}).map((_, index) => index);\n\ninterface IroWheelProps extends IroComponentProps {}\n\ninterface IroWheelState {}\n\nexport class IroWheel extends IroComponent<IroWheelProps, IroWheelState> {\n  // Handles mouse input for this component\n  public handleInput(x: number, y: number, bounds: DOMRect | ClientRect, type: EventResult) {\n    this.props.onInput(type, getWheelValueFromInput(this.props, x, y, bounds));\n  }\n\n  public render(props: any) {\n    let { width, borderWidth } = props;\n    const hsv = props.color.hsv;\n    const radius = (width / 2) - borderWidth;\n    const center = getWheelCenter(props);\n    const cX = center.x;\n    const cY = center.y;\n\n    const handlePos = getWheelHandlePosition(props);\n    \n    return (\n      <svg \n        className=\"iro__wheel\"\n        width={ width }\n        height={ width }\n        style={{\n          overflow: 'visible',\n          display: 'block'\n        }}\n      >\n        <defs>\n          <radialGradient id={ this.uid }>\n            <stop offset=\"0%\" stop-color=\"#fff\"/>\n            <stop offset=\"100%\" stop-color=\"#fff\" stop-opacity=\"0\"/>\n          </radialGradient>\n        </defs>\n        <g className=\"iro__wheel__hue\" stroke-width={ radius } fill=\"none\">\n          { HUE_STEPS.map(angle => (\n            <path \n              key={ angle }\n              d={ getSvgArcPath(cX, cY, radius / 2, angle, angle + 1.5) } \n              stroke={ `hsl(${translateWheelAngle(props, angle)}, 100%, 50%)` }\n            />\n          ))}\n        </g>\n        <circle \n          className=\"iro__wheel__saturation\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill={ `url(${resolveSvgUrl('#' + this.uid)})` }\n        />\n        { props.wheelLightness && (\n          <circle \n            className=\"iro__wheel__lightness\"\n            cx={ cX }\n            cy={ cY }\n            r={ radius }\n            fill=\"#000\"\n            opacity={ 1 - hsv.v / 100 }\n          />\n        )}\n        <circle \n          className=\"iro__wheel__border\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"none\"\n          stroke={ props.borderColor }\n          stroke-width={ borderWidth }\n        />\n        <IroHandle \n          r={ props.handleRadius }\n          url={ props.handleSvg }\n          origin={ props.handleOrigin }\n          x={ handlePos.x }\n          y={ handlePos.y }\n        />\n      </svg>\n    );\n  }\n}","import { h } from 'preact';\nimport {\n  resolveSvgUrl,\n  getSliderDimensions, \n  getSliderValueFromInput, \n  getSliderHandlePosition, \n  getSliderGradient,\n} from 'iro-core';\n\nimport { IroComponent, IroComponentProps, EventResult } from './component';\nimport { IroHandle } from './handle';\n\ninterface IroSliderProps extends IroComponentProps {\n  sliderType: string;\n}\n\ninterface IroSliderState {}\n\nexport class IroSlider extends IroComponent<IroSliderProps, IroSliderState> {\n  public height: number;\n  public width: number;\n\n  // Handles mouse input for this component\n  handleInput(x: number, y: number, bounds: DOMRect | ClientRect, type: EventResult) {\n    const value = getSliderValueFromInput(this.props, x, y, bounds);\n    let channel;\n    switch (this.props.sliderType) {\n      case 'hue':\n        channel = 'h';\n        break;\n      case 'saturation':\n        channel = 's';\n        break;\n      case 'value':\n      default:\n        channel = 'v';\n        break;\n    }\n    this.props.onInput(type, {\n      [channel]: value\n    });\n  }\n\n  render(props: any) {\n    const {\n      x, \n      y,\n      width,\n      height,\n      radius\n    } = getSliderDimensions(props);\n    \n    const handlePos = getSliderHandlePosition(props);\n    const gradient = getSliderGradient(props);\n\n    return (\n      <svg \n        className=\"iro__slider\"\n        width={ width }\n        height={ height }\n        style= {{\n          marginTop: props.sliderMargin,\n          overflow: 'visible',\n          display: 'block'\n        }}\n      >\n        <defs>\n          <linearGradient id={ this.uid }>\n            { gradient.map(([ offset, color ]) => (\n              <stop offset={`${ offset }%`} stop-color={ color } />\n            ))}\n          </linearGradient>\n        </defs>\n        <rect \n          className=\"iro__slider__value\"\n          rx={ radius } \n          ry={ radius } \n          x={ props.borderWidth / 2 } \n          y={ props.borderWidth / 2 } \n          width={ width - props.borderWidth } \n          height={ height - props.borderWidth }\n          stroke-width={ props.borderWidth }\n          stroke={ props.borderColor }\n          fill={ `url(${resolveSvgUrl('#' + this.uid)})` }\n        />\n        <IroHandle\n          r={ props.handleRadius }\n          url={ props.handleSvg }\n          origin={ props.handleOrigin }\n          x={ handlePos.x }\n          y={ handlePos.y }\n        />\n      </svg>\n    );\n  }\n}","import { h, Component } from 'preact';\nimport { IroColor, IroColorPickerOptions, iroColorPickerOptionDefaults } from 'iro-core';\n\nimport { IroComponent } from './ui/component';\nimport { IroWheel } from './ui/wheel';\nimport { IroSlider } from './ui/slider';\nimport { createWidget } from './util/createWidget';\n\ninterface ColorPickerEvents {\n  [key: string]: Function[];\n}\n\ninterface ColorDeferredEvents {\n  [key: string]: Array<any>;\n}\n\ninterface ColorPickerLayoutDefinition {\n  component: IroComponent<any, any>;\n  options: any;\n}\n\nexport type ColorPickerProps = {\n  display?: string;\n  id?: null;\n  layout?: ColorPickerLayoutDefinition[];\n} & IroColorPickerOptions;\n\nexport type ColorPickerState = {\n  color: IroColor;\n} & ColorPickerProps;\n\nclass IroColorPicker extends Component<ColorPickerProps, ColorPickerState> {\n\n  public static pluginHooks = {};\n  public static defaultProps = {\n    ...iroColorPickerOptionDefaults,\n    display: 'block',\n    id: null,\n    layout: null\n  }\n\n  public el: any;\n  public id: string;\n  public color: IroColor;\n  public layout: Array<any>;\n\n  private events: ColorPickerEvents;\n  private deferredEvents: ColorDeferredEvents;\n  private colorUpdateActive: boolean;\n  private colorUpdateSrc: string;\n\n  constructor(props: ColorPickerProps) {\n    super(props, {});\n    this.emitHook('init:before');\n    this.events = {};\n    this.deferredEvents = {};\n    this.colorUpdateActive = false;\n    this.colorUpdateSrc = null;\n    this.id = props.id;\n    // Whenever the color changes, update the color wheel=\n    this.color = new IroColor(props.color, this.updateColor.bind(this));\n    this.deferredEmit('color:init', this.color, { h: false, s: false, v: false, a: false });\n    // Pass all the props into the component's state,\n    // Except we want to add the color object and make sure that refs aren't passed down to children\n    this.state = ({\n      ...props,\n      color: this.color,\n      ref: undefined,\n    } as ColorPickerState);\n    this.emitHook('init:state');\n\n    if (props.layout) {\n      this.layout = props.layout;\n    } else {\n      this.layout = [\n        {component: IroWheel, options: {}},\n        {component: IroSlider, options: {}},\n      ];\n    }\n    this.emitHook('init:after');\n  }\n\n  // Public ColorPicker events API\n\n  /**\n   * @desc Set a callback function for an event\n   * @param {String | Array} eventList event(s) to listen to\n   * @param {Function} callback\n   */\n  public on(eventList: any, callback: any) {\n    const events = this.events;\n    // eventList can be an eventType string or an array of eventType strings\n    (!Array.isArray(eventList) ? [eventList] : eventList).forEach(eventType => {\n      // Emit plugin hook\n      this.emitHook('event:on', eventType, callback);\n      // Add event callback\n      (events[eventType] || (events[eventType] = [])).push(callback);\n      // Call deferred events\n      // These are events that can be stored until a listener for them is added\n      if (this.deferredEvents[eventType]) {\n        // Deffered events store an array of arguments from when the event was called\n        this.deferredEvents[eventType].forEach(args => {\n          callback.apply(null, args); \n        });\n        // Clear deferred events\n        this.deferredEvents[eventType] = [];\n      }\n    });\n  }\n\n  /**\n   * @desc Remove a callback function for an event added with on()\n   * @param {String | Array} eventList The name of the event\n   * @param {Function} callback\n   */\n  public off(eventList: Array<string>|string, callback: () => void) {\n    (!Array.isArray(eventList) ? [eventList] : eventList).forEach(eventType => {\n      const callbackList = this.events[eventType];\n      this.emitHook('event:off', eventType, callback);\n      if (callbackList) callbackList.splice(callbackList.indexOf(callback), 1);\n    });\n  }\n\n  /**\n   * @desc Emit an event\n   * @param {String} eventType The name of the event to emit\n   * @param {Array} args array of args to pass to callbacks\n   */\n  public emit(eventType: string, ...args: Array<any>) {\n    // Events are plugin hooks too\n    this.emitHook(eventType, ...args);\n    const callbackList = this.events[eventType] || [];\n    for (let i = 0; i < callbackList.length; i++) {\n      callbackList[i].apply(this, args); \n    }\n  }\n\n  /**\n   * @desc Emit an event now, or save it for when the relevent event listener is added\n   * @param {String} eventType The name of the event to emit\n   * @param {Array} args array of args to pass to callbacks\n   */\n  public deferredEmit(eventType: string, ...args: Array<any>) {\n    const deferredEvents = this.deferredEvents;\n    this.emit(eventType, ...args);\n    (deferredEvents[eventType] || (deferredEvents[eventType] = [])).push(args);\n  }\n\n  // Public utility methods\n\n  /**\n   * @desc Resize the color picker\n   * @param {Number} width\n   */\n  public resize(width: number) {\n    this.setState({width}, ()=>{});\n  }\n\n  /**\n   * @desc Reset the color picker to the initial color provided in the color picker options\n   */\n  public reset() {\n    this.color.set(this.props.color);\n  }\n\n  // Plugin hooks API\n\n  /**\n   * @desc Set a callback function for a hook\n   * @param {String} hookType The name of the hook to listen to\n   * @param {Function} callback\n   */\n  public static addHook(hookType: string, callback: () => void) {\n    const pluginHooks = IroColorPicker.pluginHooks;\n    (pluginHooks[hookType] || (pluginHooks[hookType] = [])).push(callback);\n  }\n\n  /**\n   * @desc Emit a callback hook\n   * @access private\n   * @param {String} hookType The type of hook event to emit\n   */\n  private emitHook(hookType: string, ...args: any) {\n    const callbackList = IroColorPicker.pluginHooks[hookType] || [];\n    for (let i = 0; i < callbackList.length; i++) {\n      callbackList[i].apply(this, args); \n    }\n  }\n\n  // Internal methods\n\n  /**\n   * @desc Called by the createWidget wrapper when the element is mounted into the page\n   * @access private\n   * @param {Element} container the container element for this ColorPicker instance\n   */\n  private onMount(container: any) {\n    this.el = container;\n    this.deferredEmit('mount', this);\n  }\n\n  /**\n   * @desc React to a color update\n   * @access private\n   * @param {IroColor} color current color\n   * @param {Object} changes shows which h,s,v color channels changed\n   */\n  private updateColor(color: any, changes: any) {\n    this.emitHook('color:beforeUpdate', color, changes);\n    this.setState({ \"color\": color });\n    this.emitHook('color:afterUpdate', color, changes);\n    // Prevent infinite loops if the color is set inside a color:change or input:change callback\n    if (!this.colorUpdateActive) {\n      // While _colorUpdateActive == true, branch cannot be entered\n      this.colorUpdateActive = true;\n      // If the color change originates from user input, fire input:change\n      if (this.colorUpdateSrc === 'input') { // colorUpdateSrc is cleared in handeInput()\n        this.emit('input:change', color, changes);\n      } \n      // Always fire color:change event\n      this.emit('color:change', color, changes);\n      this.colorUpdateActive = false;\n    }\n  }\n\n  /**\n   * @desc Handle input from a UI control element\n   * @access private\n   * @param {String} type \"START\" | \"MOVE\" | \"END\"\n   * @param {Object} hsv new hsv values for the color\n   */\n  private handleInput(type: any, hsv: any) {\n    // Fire input start and move events before color update\n    if (type === 'START') this.emit('input:start', this.color);\n    if (type === 'MOVE') this.emit('input:move', this.color);\n    // Set the color update source\n    this.colorUpdateSrc = 'input';\n    // Setting the color HSV here will automatically update the UI\n    // Since we bound the color's _onChange callback\n    this.color.hsv = hsv;\n    // Fire input end event after color update\n    if (type === 'END') this.emit('input:end', this.color);\n    // Reset color update source so it doesn't interfere with future color updates\n    // Super important to do this here and not in updateColor()\n    this.colorUpdateSrc = null;\n  }\n\n  public render(props: any, state: any) {\n    return (\n      <div \n        class=\"iro__colorPicker\"\n        id={ props.id }\n        style={{\n          display: state.display,\n          width: state.width\n        }}\n      >\n        {this.layout.map(({component: UiComponent, options: options}) => (\n          <UiComponent\n            {...state}\n            {...options}\n            onInput={ this.handleInput.bind(this) }\n            parent={ this }\n          />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport const IroColorPickerWidget = createWidget(IroColorPicker);\n","import { h, render } from 'preact';\n\n// Turn a component into a widget\n// This returns a factory function that can be used to create an instance of the widget component\n// The first function param is a DOM element or CSS selector for the element to mount to,\n// The second param is for config options which are passed to the component as props\n// This factory function can also delay mounting the element into the DOM until the page is ready\nexport function createWidget(widgetComponent) {\n\n  const widgetFactory = function (parent, props) {\n    let widget = null; // will become an instance of the widget component class\n    let widgetRoot = document.createElement('div');\n\n    // Render widget into a temp DOM node\n    render(\n      h(widgetComponent, {\n        ref: ref => widget = ref,\n        ...props,\n      }),\n      widgetRoot\n    );\n    \n    function mountWidget() {\n      const container = parent instanceof Element ? parent : document.querySelector(parent);\n      container.appendChild(widget.base);\n      widget.onMount(container);\n    };\n    // Mount it into the DOM when the page document is ready\n    if (document.readyState !== 'loading') {\n      mountWidget();\n    } else {\n      document.addEventListener('DOMContentLoaded', mountWidget);\n    }\n\n    return widget;\n  }\n\n  // Allow the widget factory to inherit component prototype + static class methods\n  // This makes it easier for plugin authors to extend the base widget component\n  widgetFactory.prototype = widgetComponent.prototype;\n  Object.assign(widgetFactory, widgetComponent);\n  // Add reference to base component too\n  widgetFactory.__component = widgetComponent; \n\n  return widgetFactory;\n\n}","// iro.js plugins API\n// This provides the iro.use method, which can be used to register plugins which extend the iro.js core\nexport function usePlugins(core) {\n  const installedPlugins = [];\n  \n  // Register iro.js plugin\n  core.use = function(plugin, pluginOptions = {}) {\n    // Check that the plugin hasn't already been registered\n    if (!(installedPlugins.indexOf(plugin) > -1)) {\n      // Init plugin\n      // TODO: consider collection of plugin utils, which are passed as a thrid param\n      plugin(core, pluginOptions);\n      // Register plugin\n      installedPlugins.push(plugin);\n    }\n  }\n\n  core.installedPlugins = installedPlugins;\n\n  return core;\n}","import { h } from 'preact';\nimport { IroColor } from 'iro-core';\n\nimport { IroColorPickerWidget } from './colorPicker';\nimport { IroComponent } from './ui/component';\nimport { IroHandle }  from './ui/handle';\nimport { IroSlider } from './ui/slider';\nimport { IroWheel } from './ui/wheel';\nimport { usePlugins } from './util/usePlugins';\n\nexport default usePlugins({\n  Color: IroColor,\n  ColorPicker: IroColorPickerWidget,\n  ui: {\n    h,\n    Component: IroComponent,\n    Handle: IroHandle,\n    Slider: IroSlider,\n    Wheel: IroWheel,\n  },\n  version: VERSION,\n});\n\n"],"names":["n","u","t","i","r","EventType","EventResult","f","e","c","s","l","a","parentNode","removeChild","h","o","arguments","length","push","children","defaultProps","key","ref","v","type","props","__k","__p","__b","__e","__c","constructor","vnode","d","m","this","context","w","indexOf","g","base","k","__d","debounceRendering","_","sort","__v","pop","__P","$","__n","ownerSVGElement","j","b","p","y","x","appendChild","nextSibling","insertBefore","value","D","A","Array","isArray","P","setProperty","test","N","style","cssText","replace","toLowerCase","slice","addEventListener","T","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","C","contextType","__E","prototype","render","H","sub","state","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","__r","getChildContext","getSnapshotBeforeUpdate","call","componentDidUpdate","nodeType","localName","document","createTextNode","createElementNS","createElement","data","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","z","diffed","current","unmount","componentWillUnmount","listen","el","eventList","callback","params","unlisten","setState","forceUpdate","Promise","then","bind","resolve","setTimeout","getDerivedStateFromError","componentDidCatch","IroComponent","super","uid","Math","random","toString","substring","MouseDown","TouchStart","passive","handleEvent","preventDefault","const","point","touches","changedTouches","clientX","clientY","bounds","getBoundingClientRect","MouseMove","TouchMove","MouseUp","TouchEnd","handleInput","start","move","end","Component","IroHandle","radius","url","className","overflow","xlinkHref","resolveSvgUrl","origin","fill","stroke","HUE_STEPS","apply","map","index","IroWheel","onInput","getWheelValueFromInput","hsv","color","width","borderWidth","center","getWheelCenter","cX","cY","handlePos","getWheelHandlePosition","height","display","id","offset","angle","getSvgArcPath","translateWheelAngle","cx","cy","wheelLightness","opacity","borderColor","handleRadius","handleSvg","handleOrigin","IroSlider","channel","getSliderValueFromInput","sliderType","getSliderDimensions","getSliderHandlePosition","gradient","getSliderGradient","marginTop","sliderMargin","rx","ry","IroColorPicker","emitHook","events","deferredEvents","colorUpdateActive","colorUpdateSrc","IroColor","updateColor","deferredEmit","Object","undefined","layout","component","options","on","forEach","eventType","args","off","callbackList","splice","emit","resize","reset","set","addHook","hookType","pluginHooks","onMount","container","changes","class","UiComponent","parent","iroColorPickerOptionDefaults","widgetComponent","core","installedPlugins","IroColorPickerWidget","widgetFactory","assign","__component","let","widget","widgetRoot","mountWidget","Element","querySelector","readyState","Color","ColorPicker","ui","Handle","Slider","Wheel","version","use","plugin","pluginOptions"],"mappings":"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"}