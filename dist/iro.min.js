/*!
 * iro.js v4.5.1
 * 2016-2019 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("iro-core")):"function"==typeof define&&define.amd?define(["iro-core"],t):(e=e||self).iro=t(e.iroCore)}(this,function(c){"use strict";var b,u,t,o,l,i,e,s,n,w={},S=[],r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function x(e,t){for(var o in t)e[o]=t[o];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,o){var n,r,i,l,s=arguments;if(t=x({},t),3<arguments.length)for(o=[o],n=3;n<arguments.length;n++)o.push(s[n]);if(null!=o&&(t.children=o),null!=e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===t[r]&&(t[r]=e.defaultProps[r]);return l=t.key,null!=(i=t.ref)&&delete t.ref,null!=l&&delete t.key,a(e,t,l,i)}function a(e,t,o,n){var r={type:e,props:t,key:o,ref:n,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return b.vnode&&b.vnode(r),r}function M(e){return e.children}function E(e,t){this.props=e,this.context=t}function g(e,t){if(null==t)return e.__p?g(e.__p,e.__p.__k.indexOf(e)+1):null;for(var o;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e)return o.__e;return"function"==typeof e.type?g(e):null}function _(e){var t,o;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e){e.__e=e.__c.base=o.__e;break}return _(e)}}function d(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||o!==b.debounceRendering)&&(o=b.debounceRendering,(b.debounceRendering||t)(h))}function h(){var e,t,o,n,r,i,l,s;for(u.sort(function(e,t){return t.__v.__b-e.__v.__b});e=u.pop();)e.__d&&(n=o=void 0,i=(r=(t=e).__v).__e,l=t.__P,s=t.u,t.u=!1,l&&(o=[],n=k(l,r,x({},r),t.__n,void 0!==l.ownerSVGElement,null,o,s,null==i?g(r):i),y(o,r),n!=i&&_(r)))}function C(t,o,e,n,r,i,l,s,u){var c,p,a,_,d,h,f,v=e&&e.__k||S,y=v.length;if(s==w&&(s=null!=i?i[0]:y?g(e,0):null),c=0,o.__k=U(o.__k,function(e){if(null!=e){if(e.__p=o,e.__b=o.__b+1,null===(a=v[c])||a&&e.key==a.key&&e.type===a.type)v[c]=void 0;else for(p=0;p<y;p++){if((a=v[p])&&e.key==a.key&&e.type===a.type){v[p]=void 0;break}a=null}if(_=k(t,e,a=a||w,n,r,i,l,null,s,u),(p=e.ref)&&a.ref!=p&&(f=f||[]).push(p,e.__c||_,e),null!=_){if(null==h&&(h=_),null!=e.l)_=e.l,e.l=null;else if(i==a||_!=s||null==_.parentNode){e:if(null==s||s.parentNode!==t)t.appendChild(_);else{for(d=s,p=0;(d=d.nextSibling)&&p<y;p+=2)if(d==_)break e;t.insertBefore(_,s)}"option"==o.type&&(t.value="")}s=_.nextSibling,"function"==typeof o.type&&(o.l=_)}}return c++,e}),o.__e=h,null!=i&&"function"!=typeof o.type)for(c=i.length;c--;)null!=i[c]&&m(i[c]);for(c=y;c--;)null!=v[c]&&N(v[c],v[c]);if(f)for(c=0;c<f.length;c++)P(f[c],f[++c],f[++c])}function U(e,t,o){if(null==o&&(o=[]),null==e||"boolean"==typeof e)t&&o.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)U(e[n],t,o);else o.push(t?t(function(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return a(null,e,null,null);if(null==e.__e&&null==e.__c)return e;var t=a(e.type,e.props,e.key,null);return t.__e=e.__e,t}(e)):e);return o}function f(e,t,o){"-"===t[0]?e.setProperty(t,o):e[t]="number"==typeof o&&!1===r.test(t)?o+"px":null==o?"":o}function T(e,t,o,n,r){var i,l,s,u,c;if("key"===(t=r?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof o)i.cssText=o;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(l in n)o&&l in o||f(i,l,"");if(o)for(s in o)n&&o[s]===n[s]||f(i,s,o[s])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),t=((c=t.toLowerCase())in e?c:t).slice(2),o?(n||e.addEventListener(t,v,u),(e.t||(e.t={}))[t]=o):e.removeEventListener(t,v,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&!r&&t in e?e[t]=null==o?"":o:"function"!=typeof o&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==o||!1===o?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):null==o||!1===o?e.removeAttribute(t):e.setAttribute(t,o))}function v(e){return this.t[e.type](b.event?b.event(e):e)}function k(e,t,o,n,r,i,l,s,u,c){var p,a,_,d,h,f,v,y,m,g,k=t.type;if(void 0!==t.constructor)return null;(p=b.__b)&&p(t);try{e:if("function"==typeof k){if(y=t.props,m=(p=k.contextType)&&n[p.__c],g=p?m?m.props.value:p.__p:n,o.__c?v=(a=t.__c=o.__c).__p=a.__E:("prototype"in k&&k.prototype.render?t.__c=a=new k(y,g):(t.__c=a=new E(y,g),a.constructor=k,a.render=D),m&&m.sub(a),a.props=y,a.state||(a.state={}),a.context=g,a.__n=n,_=a.__d=!0,a.__h=[]),null==a.__s&&(a.__s=a.state),null!=k.getDerivedStateFromProps&&x(a.__s==a.state?a.__s=x({},a.__s):a.__s,k.getDerivedStateFromProps(y,a.__s)),_)null==k.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&l.push(a);else{if(null==k.getDerivedStateFromProps&&null==s&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(y,g),!s&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(y,a.__s,g)){for(a.props=y,a.state=a.__s,a.__d=!1,(a.__v=t).__e=null!=u?u!==o.__e?u:o.__e:null,t.__k=o.__k,p=0;p<t.__k.length;p++)t.__k[p]&&(t.__k[p].__p=t);break e}null!=a.componentWillUpdate&&a.componentWillUpdate(y,a.__s,g)}for(d=a.props,h=a.state,a.context=g,a.props=y,a.state=a.__s,(p=b.__r)&&p(t),a.__d=!1,a.__v=t,a.__P=e,p=a.render(a.props,a.state,a.context),t.__k=U(null!=p&&p.type==M&&null==p.key?p.props.children:p),null!=a.getChildContext&&(n=x(x({},n),a.getChildContext())),_||null==a.getSnapshotBeforeUpdate||(f=a.getSnapshotBeforeUpdate(d,h)),C(e,t,o,n,r,i,l,u,c),a.base=t.__e;p=a.__h.pop();)a.__s&&(a.state=a.__s),p.call(a);_||null==d||null==a.componentDidUpdate||a.componentDidUpdate(d,h,f),v&&(a.__E=a.__p=null)}else t.__e=function(e,t,o,n,r,i,l,s){var u,c,p,a,_=o.props,d=t.props;if(r="svg"===t.type||r,null==e&&null!=i)for(u=0;u<i.length;u++)if(null!=(c=i[u])&&(null===t.type?3===c.nodeType:c.localName===t.type)){e=c,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(d);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),i=null}return null===t.type?_!==d&&(null!=i&&(i[i.indexOf(e)]=null),e.data=d):t!==o&&(null!=i&&(i=S.slice.call(e.childNodes)),p=(_=o.props||w).dangerouslySetInnerHTML,a=d.dangerouslySetInnerHTML,s||(a||p)&&(a&&p&&a.__html==p.__html||(e.innerHTML=a&&a.__html||"")),function(e,t,o,n,r){var i;for(i in o)i in t||T(e,i,null,o[i],n);for(i in t)r&&"function"!=typeof t[i]||"value"===i||"checked"===i||o[i]===t[i]||T(e,i,t[i],o[i],n)}(e,d,_,r,s),t.__k=t.props.children,a||C(e,t,o,n,"foreignObject"!==t.type&&r,i,l,w,s),s||("value"in d&&void 0!==d.value&&d.value!==e.value&&(e.value=null==d.value?"":d.value),"checked"in d&&void 0!==d.checked&&d.checked!==e.checked&&(e.checked=d.checked))),e}(o.__e,t,o,n,r,i,l,c);(p=b.diffed)&&p(t)}catch(e){b.__e(e,t,o)}return t.__e}function y(e,t){for(var o;o=e.pop();)try{o.componentDidMount()}catch(e){b.__e(e,o.__v)}b.__c&&b.__c(t)}function P(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){b.__e(e,o)}}function N(e,t,o){var n,r,i;if(b.unmount&&b.unmount(e),(n=e.ref)&&P(n,null,t),o||"function"==typeof e.type||(o=null!=(r=e.__e)),e.__e=e.l=null,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){b.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&N(n[i],t,o);null!=r&&m(r)}function D(e,t,o){return this.constructor(e,o)}function H(e,t,o,n){for(var r=0;r<t.length;r++)e.addEventListener(t[r],o,n)}function O(e,t,o,n){for(var r=0;r<t.length;r++)e.removeEventListener(t[r],o,n)}b={},E.prototype.setState=function(e,t){var o=this.__s!==this.state&&this.__s||(this.__s=x({},this.state));"function"==typeof e&&!(e=e(o,this.props))||x(o,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),d(this))},E.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,d(this))},E.prototype.render=M,u=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=b.debounceRendering,b.__e=function(e,t,o){for(var n;t=t.__p;)if((n=t.__c)&&!n.__p)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(e));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(e)}return d(n.__E=n)}catch(t){e=t}throw e},l=w,(e=i=i||{}).MouseDown="mousedown",e.MouseMove="mousemove",e.MouseUp="mouseup",e.TouchStart="touchstart",e.TouchMove="touchstart",e.TouchEnd="touchend",(n=s=s||{})[n.start=0]="start",n[n.move=1]="move",n[n.end=2]="end";var W=function(t){function e(e){t.call(this,e),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.componentDidMount=function(){H(this.base,[i.MouseDown,i.TouchStart],this,{passive:!1})},e.prototype.componentWillUnmount=function(){O(this.base,[i.MouseDown,i.TouchStart],this)},e.prototype.handleEvent=function(e){e.preventDefault();var t=e.touches?e.changedTouches[0]:e,o=t.clientX,n=t.clientY,r=this.base.getBoundingClientRect();switch(e.type){case i.MouseDown:case i.TouchStart:H(document,[i.MouseMove,i.TouchMove,i.MouseUp,i.TouchEnd],this,{passive:!1}),this.handleInput(o,n,r,s.start);break;case i.MouseMove:case i.TouchMove:this.handleInput(o,n,r,s.move);break;case i.MouseUp:case i.TouchEnd:this.handleInput(o,n,r,s.end),O(document,[i.MouseMove,i.TouchMove,i.MouseUp,i.TouchEnd],this,{passive:!1})}},e}(E);function A(e){var t=e.r,o=e.url;return p("svg",{className:"iro__handle",x:e.x,y:e.y,style:{overflow:"visible"}},o&&p("use",Object.assign({xlinkHref:c.resolveSvgUrl(o)},e.origin)),!o&&p("circle",{className:"iro__handle__inner",r:t,fill:"none","stroke-width":2,stroke:"#000"}),!o&&p("circle",{className:"iro__handle__outer",r:t-2,fill:"none","stroke-width":2,stroke:"#fff"}))}A.defaultProps={x:0,y:0,r:8,url:null,origin:{x:0,y:0}};var I=Array.apply(null,{length:360}).map(function(e,t){return t}),L=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.handleInput=function(e,t,o,n){this.props.onInput(n,c.getWheelValueFromInput(this.props,e,t,o))},t.prototype.render=function(t){var e=t.width,o=t.borderWidth,n=t.color.hsv,r=e/2-o,i=c.getWheelCenter(t),l=i.x,s=i.y,u=c.getWheelHandlePosition(t);return p("svg",{className:"iro__wheel",width:e,height:e,style:{overflow:"visible",display:"block"}},p("defs",null,p("radialGradient",{id:this.uid},p("stop",{offset:"0%","stop-color":"#fff"}),p("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),p("g",{className:"iro__wheel__hue","stroke-width":r,fill:"none"},I.map(function(e){return p("path",{key:e,d:c.getSvgArcPath(l,s,r/2,e,e+1.5),stroke:"hsl("+c.translateWheelAngle(t,e)+", 100%, 50%)"})})),p("circle",{className:"iro__wheel__saturation",cx:l,cy:s,r:r,fill:"url("+c.resolveSvgUrl("#"+this.uid)+")"}),t.wheelLightness&&p("circle",{className:"iro__wheel__lightness",cx:l,cy:s,r:r,fill:"#000",opacity:1-n.v/100}),p("circle",{className:"iro__wheel__border",cx:l,cy:s,r:r,fill:"none",stroke:t.borderColor,"stroke-width":o}),p(A,{r:t.handleRadius,url:t.handleSvg,origin:t.handleOrigin,x:u.x,y:u.y}))},t}(W),j=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.handleInput=function(e,t,o,n){var r,i,l=c.getSliderValueFromInput(this.props,e,t,o);switch(this.props.sliderType){case"hue":i="h";break;case"saturation":i="s";break;case"value":default:i="v"}this.props.onInput(n,((r={})[i]=l,r))},t.prototype.render=function(e){var t=c.getSliderDimensions(e),o=(t.x,t.y,t.width),n=t.height,r=t.radius,i=c.getSliderHandlePosition(e),l=c.getSliderGradient(e);return p("svg",{className:"iro__slider",width:o,height:n,style:{marginTop:e.sliderMargin,overflow:"visible",display:"block"}},p("defs",null,p("linearGradient",{id:this.uid},l.map(function(e){return p("stop",{offset:e[0]+"%","stop-color":e[1]})}))),p("rect",{className:"iro__slider__value",rx:r,ry:r,x:e.borderWidth/2,y:e.borderWidth/2,width:o-e.borderWidth,height:n-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+c.resolveSvgUrl("#"+this.uid)+")"}),p(A,{r:e.handleRadius,url:e.handleSvg,origin:e.handleOrigin,x:i.x,y:i.y}))},t}(W);var R=function(t){function i(e){t.call(this,e,{}),this.emitHook("init:before"),this.events={},this.deferredEvents={},this.colorUpdateActive=!1,this.colorUpdateSrc=null,this.id=e.id,this.color=new c.IroColor(e.color,this.updateColor.bind(this)),this.deferredEmit("color:init",this.color,{h:!1,s:!1,v:!1,a:!1}),this.state=Object.assign({},e,{color:this.color,ref:void 0}),this.emitHook("init:state"),e.layout?this.layout=e.layout:this.layout=[{component:L,options:{}},{component:j,options:{}}],this.emitHook("init:after")}return t&&(i.__proto__=t),((i.prototype=Object.create(t&&t.prototype)).constructor=i).prototype.on=function(e,t){var o=this,n=this.events;(Array.isArray(e)?e:[e]).forEach(function(e){o.emitHook("event:on",e,t),(n[e]||(n[e]=[])).push(t),o.deferredEvents[e]&&(o.deferredEvents[e].forEach(function(e){t.apply(null,e)}),o.deferredEvents[e]=[])})},i.prototype.off=function(e,o){var n=this;(Array.isArray(e)?e:[e]).forEach(function(e){var t=n.events[e];n.emitHook("event:off",e,o),t&&t.splice(t.indexOf(o),1)})},i.prototype.emit=function(e){for(var t,o=[],n=arguments.length-1;0<n--;)o[n]=arguments[n+1];(t=this).emitHook.apply(t,[e].concat(o));for(var r=this.events[e]||[],i=0;i<r.length;i++)r[i].apply(this,o)},i.prototype.deferredEmit=function(e){for(var t,o=[],n=arguments.length-1;0<n--;)o[n]=arguments[n+1];var r=this.deferredEvents;(t=this).emit.apply(t,[e].concat(o)),(r[e]||(r[e]=[])).push(o)},i.prototype.resize=function(e){this.setState({width:e},function(){})},i.prototype.reset=function(){this.color.set(this.props.color)},i.addHook=function(e,t){var o=i.pluginHooks;(o[e]||(o[e]=[])).push(t)},i.prototype.emitHook=function(e){for(var t=[],o=arguments.length-1;0<o--;)t[o]=arguments[o+1];for(var n=i.pluginHooks[e]||[],r=0;r<n.length;r++)n[r].apply(this,t)},i.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},i.prototype.updateColor=function(e,t){this.emitHook("color:beforeUpdate",e,t),this.setState({color:e}),this.emitHook("color:afterUpdate",e,t),this.colorUpdateActive||(this.colorUpdateActive=!0,"input"===this.colorUpdateSrc&&this.emit("input:change",e,t),this.emit("color:change",e,t),this.colorUpdateActive=!1)},i.prototype.handleInput=function(e,t){"START"===e&&this.emit("input:start",this.color),"MOVE"===e&&this.emit("input:move",this.color),this.colorUpdateSrc="input",this.color.hsv=t,"END"===e&&this.emit("input:end",this.color),this.colorUpdateSrc=null},i.prototype.render=function(e,n){var r=this;return p("div",{class:"iro__colorPicker",id:e.id,style:{display:n.display,width:n.width}},this.layout.map(function(e){var t=e.component,o=e.options;return p(t,Object.assign({},n,o,{onInput:r.handleInput.bind(r),parent:r}))}))},i}(E);R.pluginHooks={},R.defaultProps=Object.assign({},c.iroColorPickerOptionDefaults,{display:"block",id:null,layout:null});var F,G,V,B=(q.prototype=(F=R).prototype,Object.assign(q,F),q.__component=F,q);function q(t,e){var o=null,n=document.createElement("div");function r(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(o.base),o.onMount(e)}return function(e,t,o){var n,r,i;b.__p&&b.__p(e,t),r=(n=o===l)?null:o&&o.__k||t.__k,e=p(M,null,[e]),i=[],k(t,n?t.__k=e:(o||t).__k=e,r||w,w,void 0!==t.ownerSVGElement,o&&!n?[o]:r?null:S.slice.call(t.childNodes),i,!1,o||w,n),y(i,e)}(p(F,Object.assign({},{ref:function(e){return o=e}},e)),n),"loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r),o}return G={Color:c.IroColor,ColorPicker:B,ui:{h:p,Component:W,Handle:A,Slider:j,Wheel:L},version:"4.5.1"},V=[],G.use=function(e,t){void 0===t&&(t={}),-1<V.indexOf(e)||(e(G,t),V.push(e))},G.installedPlugins=V,G});
//# sourceMappingURL=iro.min.js.map
